<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Add To-Do-Item</title>
    <link rel="stylesheet" href="css/styles.css">

</head>

<body>
    <h1>Please add a item to that you want to do:</h1>
    <form>
        <label class="labels" for="id">ID: </label><br>
        <input type="text" name="id" id ="id" required /><br>

        <label class="labels" for="message">Message: </label><br>
        <input type="text" name="message" id="messgae" required /><br>

        <label class="labels" for="complete">Complete?: </label><br>
        <input type="radio" name="complete" id="Yes" value ="True"/>
        <label for="Yes">Yes</label>
        <input type="radio" name="complete" id="No" value="false"/>
        <label for="No">No</label><br><br>

        <button type="submit">Submit</button><br>

        <input class="button" type="reset" value="Reset" />
    </form>
    <script>
        function handleSubmit(event) {
            event.preventDefault();

            const data = new FormData(event.target);

            const toDoItem = Object.fromEntries(data.entries());

            console.log({toDoItem});
            asyncFunc();
        }
        async function asyncFunc(toDoItem) {
            let response = await fetch("http://localhost:8080/to-do-app/toDoItems", {
                method: 'POST',
            headers: {
                'Content-Type': 'application/json;charset=utf-8'
            },
        body:JSON.stringify(toDoItem)
    });
            }
        const form = document.querySelector('form');
        form.addEventListener('submit', handleSubmit);
    </script>
</body>

</html>