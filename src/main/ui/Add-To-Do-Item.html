<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Add To-Do-Item</title>
    <link rel="stylesheet" href="css/styles.css">

</head>

<body>
    <h1>Please add a item to that you want to do:</h1>
    <form id="myForm">
        <label class="labels" for="message">Enter Task: </label><br>
        <input type="text" name="message" id="messgae" required /><br>

        <button type="submit">Submit</button><br>

        <input class="button" type="reset" value="Reset" />
    </form>
    <script>
        function handleSubmit(event) {
            event.preventDefault();
            //const { message, complete = false } = event.target.elements;
            console.log(message.value);
            asyncFunc(message.value);
        }
        async function asyncFunc(messageValue) {
            let formObject = {
                message: messageValue,
                complete:false
            }
            
            let response = await fetch("http://localhost:8080/to-do-app/toDoItems", {
                method: 'POST',
            headers: {
                'Content-Type': 'application/json;charset=utf-8'
            },
        body:JSON.stringify(formObject)
    });
            }
        const form = document.getElementById('myForm');
        form.addEventListener('submit', handleSubmit);
    </script>
</body>

</html>